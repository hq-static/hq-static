### 3-1-3 项目系统设计

#### 功能

- 登录
  - 参与对象：用户
  - 前置条件：无
  - 事件流程（正常、意外等，对应流程可以附上页面，可附上流程图）
    - 流程图可添加此处
    - 正常流程
      - 单个流程流程图在此
      - 用户填入用户名和密码
      - 用户填入验证码
      - 点击登录
      - 系统校验（前端）
        - 验证码
        - 用户名和密码
      - 提交请求
      - 返回成功
      - 相关对象如何变化：用户状态变为已登录，登录状态下，用户访问登录页面直接跳转
      - 后置条件：系统页面跳转，至首页
    - 异常流程1（用户名或密码或验证码为空）
      - 用户未输入用户名或者密码的情况下，点击登录
      - 页面判断用户名或密码为空，直接弹出对话框提醒。
      - 流程结束。
      - 相关对象如何变化：无变化
      - 后置条件：无
    - 异常流程2（用户名或密码错误）
      - 用户输入用户名和密码
      - 用户输入验证码
      - 点击登录
      - 系统校验（前端）
        - 验证码校验通过
        - 用户名密码校验不通过
      - 返回错误信息给到页面
      - 显示错误信息，显示登录页面。 
      - 相关对象变化：无
      - 后置条件：页面清空用户的输入
    - 异常流程3（验证码错误）
      - 用户输入用户名和密码
      - 用户输入验证码
      - 点击登录
      - 系统校验
        - 验证码校验不通过
      - 返回错误信息给到页面
      - 显示错误信息，显示登录页面。 
      - 相关对象变化：无
      - 后置条件：页面清空校验码，校验码刷新
- 用户管理
  - 参与对象
  - 前置条件（用例的前提）
  - 事件流程（正常、意外等，对应流程可以附上页面，可附上流程图）
  - 相关对象如何变化
  - 后置条件（产生什么影响）
- 角色管理
  - 参与对象
  - 前置条件（用例的前提）
  - 事件流程（正常、意外等，对应流程可以附上页面，可附上流程图）
  - 相关对象如何变化
  - 后置条件（产生什么影响）
- 资源管理 - 新增
  - 参与对象：资源
  - 前置条件：
    - 用户已登录
    - 打开资源管理页面
  - 事件流程（正常、意外等，对应流程可以附上页面，可附上流程图）
    - 正常流程
      - 页面点击新增按钮
      - 页面跳转至新增资源页面
      - 用户输入新增相关信息
        - 名称
        - URL
        - method
        - 类型
        - 排序
        - 上级资源（去掉，不符合1NF）
        - 备注
      - 前端校验
        - 必填项是否为空（名称、类型）
        - 其他值是否正常（合法性校验）
      - 提交数据到服务端
      - 服务端校验数据（从安全的角度考虑）
      - 提交到数据库保存
      - 返回结果（成功）
      - 相关对象：数据库中新增一条资源
      - 后置条件：资源管理页面需要重新刷新，将新增的资源显示出来。
    - 异常流程1（插入数据库失败）
      - 页面点击新增按钮
      - 页面跳转至新增资源页面
      - 用户输入新增相关信息
      - 前端校验
        - 必填项是否为空（名称、类型）
        - 其他值是否正常（合法性校验）
      - 提交数据到服务端
      - 服务端校验数据（从安全的角度考虑）
      - 提交到数据库保存（失败）
      - （数据库操作回滚）
      - 做其他的错误处理工作
      - 返回错误信息给到前端
      - 前端根据错误信息给出提示
      - 相关对象：资源无变化
      - 后置条件：保持添加页面不关闭，提示错误信息
- 用户分配角色
  - 参与对象
  - 前置条件（用例的前提）
  - 事件流程（正常、意外等，对应流程可以附上页面，可附上流程图）
  - 相关对象如何变化
  - 后置条件（产生什么影响）
- 角色分配资源
  - 参与对象
  - 前置条件（用例的前提）
  - 事件流程（正常、意外等，对应流程可以附上页面，可附上流程图）
  - 相关对象如何变化
  - 后置条件（产生什么影响）
- 统计首页
  - 参与对象
  - 前置条件（用例的前提）
  - 事件流程（正常、意外等，对应流程可以附上页面，可附上流程图）
  - 相关对象如何变化
  - 后置条件（产生什么影响）
- 统计细分
  - 参与对象
  - 前置条件（用例的前提）
  - 事件流程（正常、意外等，对应流程可以附上页面，可附上流程图）
  - 相关对象如何变化
  - 后置条件（产生什么影响）



